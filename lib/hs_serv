always @(posedge clk) begin
	if (rst)
		hs_state <= INIT;
	else
		case (hs_state)
			INIT:					hs_state <= READY;
			READY:		if(req)		hs_state <= PROCESS;
			PROCESS:	if(/*flag*/)hs_state <= FINISH;
			FINISH:					hs_state <= READY;
		endcase
end

assign busy = (hs_state == PROCESS);
assign finish = (hs_state == FINISH);

always @(posedge clk) begin
	if (rst) begin
/*user defined port*/
	end
	else if (hs_state == PROCESS) begin
/*user defined action*/	
	end
	else if (hs_state == FINISH) begin
/*user defined action*/	
	end
	else begin
/*user defined action*/	
	end
end